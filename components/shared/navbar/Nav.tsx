'use client';
import Link from 'next/link';
import {
  Accordion,
  AccordionContent,
  AccordionItem,
  AccordionTrigger,
} from '@/components/ui/accordion';
import Image from 'next/image';
import { usePathname, useRouter } from 'next/navigation';
import {
  NavigationMenu,
  NavigationMenuContent,
  NavigationMenuLink,
  NavigationMenuList,
  NavigationMenuTrigger,
  NavigationMenuItem,
  navigationMenuTriggerStyle,
} from '@/components/ui/navigation-menu';
import Cookies from 'js-cookie';

function Nav({ menuBar }: { menuBar: boolean }) {
  const pathName = usePathname();
  const router = useRouter()

  const navStats = [
    {
      id: 1,
      label: 'صفحه اصلی',
      route: '/',
      icon: (
        <svg
          width="16"
          height="16"
          viewBox="0 0 16 16"
          className="ml-1 md:hidden"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M7.99997 12.5002C7.72664 12.5002 7.49997 12.2735 7.49997 12.0002V10.0002C7.49997 9.72687 7.72664 9.50021 7.99997 9.50021C8.27331 9.50021 8.49997 9.72687 8.49997 10.0002V12.0002C8.49997 12.2735 8.27331 12.5002 7.99997 12.5002Z"
            className="fill-[#353535] dark:fill-white"
          />
          <path
            d="M11.7333 15.0402H4.26664C3.05331 15.0402 1.94664 14.1069 1.74664 12.9135L0.859974 7.60021C0.713307 6.77354 1.11997 5.71354 1.77997 5.18687L6.39997 1.48687C7.29331 0.766874 8.69997 0.77354 9.59997 1.49354L14.22 5.18687C14.8733 5.71354 15.2733 6.77354 15.14 7.60021L14.2533 12.9069C14.0533 14.0869 12.92 15.0402 11.7333 15.0402ZM7.99331 1.95354C7.63997 1.95354 7.28664 2.06021 7.02664 2.26687L2.40664 5.97354C2.03331 6.27354 1.76664 6.96687 1.84664 7.44021L2.73331 12.7469C2.85331 13.4469 3.55331 14.0402 4.26664 14.0402H11.7333C12.4466 14.0402 13.1466 13.4469 13.2666 12.7402L14.1533 7.43354C14.2266 6.96687 13.96 6.26021 13.5933 5.96687L8.97331 2.27354C8.70664 2.06021 8.34664 1.95354 7.99331 1.95354Z"
            className="fill-[#353535] dark:fill-white"
          />
        </svg>
      ),
    },
    {
      id: 2,
      label: 'شعبه',
      route: '/branchs',
      subMain: [
        { id: 1, label: 'شعبه', route: '/branchs' },
        { id: 2, label: 'شعبه ونک', routeQuery: '/branchs/vanak' },
        { id: 3, label: 'شعبه اکباتان', routeQuery: '/branchs/ekbatan' },
        { id: 4, label: 'شعبه چالوس', routeQuery: '/branchs/chaloos' },
        { id: 5, label: 'شعبه اقدسیه', routeQuery: '/branchs/aghdasie' },
      ],
      icon: (
        <svg
          width="16"
          height="16"
          viewBox="0 0 12 12"
          className="ml-1 md:hidden"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M8.895 11.3701H3.105C1.735 11.3701 0.625 10.2551 0.625 8.8851V5.1801C0.625 4.5001 1.045 3.6451 1.585 3.2251L4.28 1.1251C5.09 0.495104 6.385 0.465104 7.225 1.0551L10.315 3.2201C10.91 3.6351 11.375 4.5251 11.375 5.2501V8.8901C11.375 10.2551 10.265 11.3701 8.895 11.3701ZM4.74 1.7151L2.045 3.8151C1.69 4.0951 1.375 4.7301 1.375 5.1801V8.8851C1.375 9.8401 2.15 10.6201 3.105 10.6201H8.895C9.85 10.6201 10.625 9.8451 10.625 8.8901V5.2501C10.625 4.7701 10.28 4.1051 9.885 3.8351L6.795 1.6701C6.225 1.2701 5.285 1.2901 4.74 1.7151Z"
            className="fill-[#353535] dark:fill-white"
          />
          <path
            d="M6.75 9.375H5.25C4.215 9.375 3.375 8.535 3.375 7.5V6C3.375 4.965 4.215 4.125 5.25 4.125H6.75C7.785 4.125 8.625 4.965 8.625 6V7.5C8.625 8.535 7.785 9.375 6.75 9.375ZM5.25 4.875C4.63 4.875 4.125 5.38 4.125 6V7.5C4.125 8.12 4.63 8.625 5.25 8.625H6.75C7.37 8.625 7.875 8.12 7.875 7.5V6C7.875 5.38 7.37 4.875 6.75 4.875H5.25Z"
            className="fill-[#353535] dark:fill-white"
          />
          <path
            d="M6 9.375C5.795 9.375 5.625 9.205 5.625 9V4.5C5.625 4.295 5.795 4.125 6 4.125C6.205 4.125 6.375 4.295 6.375 4.5V9C6.375 9.205 6.205 9.375 6 9.375Z"
            className="fill-[#353535] dark:fill-white"
          />
          <path
            d="M8.25 7.125H3.75C3.545 7.125 3.375 6.955 3.375 6.75C3.375 6.545 3.545 6.375 3.75 6.375H8.25C8.455 6.375 8.625 6.545 8.625 6.75C8.625 6.955 8.455 7.125 8.25 7.125Z"
            className="fill-[#353535] dark:fill-white"
          />
        </svg>
      ),
    },
    {
      id: 3,
      label: 'منو',
      route: '/menu',
      subMain: [
        { id: 1, label: 'منو', route: '/menu' },
        { id: 1, label: 'غذا', routeQuery: '/menu/food' },
        { id: 1, label: 'پیش غذا', routeQuery: '/menu/appetizer' },
        { id: 1, label: 'دسر', routeQuery: '/menu/dessert' },
        { id: 1, label: 'نوشیدنی', routeQuery: '/menu/drink' },
      ],
      icon: (
        <svg
          width="16"
          height="16"
          viewBox="0 0 12 12"
          fill="none"
          className="ml-1 md:hidden"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M8.19046 11.3751H1.62045C1.14545 11.3751 0.705454 11.1551 0.420454 10.7701C0.130454 10.3801 0.0454584 9.89011 0.190458 9.42511L2.29545 2.6601C2.48545 2.0301 3.06546 1.6001 3.72546 1.6001H9.87546C10.4805 1.6001 11.0255 1.96014 11.2555 2.52014C11.3805 2.81014 11.4055 3.14015 11.3305 3.46515L9.64546 10.2301C9.48546 10.9051 8.88546 11.3751 8.19046 11.3751ZM3.73045 2.3551C3.40545 2.3551 3.11046 2.57013 3.01546 2.88513L0.91046 9.65015C0.84046 9.88515 0.880455 10.1301 1.03045 10.3301C1.17045 10.5201 1.39046 10.6301 1.62546 10.6301H8.19546C8.54046 10.6301 8.84045 10.3951 8.92045 10.0601L10.6055 3.2901C10.6455 3.1251 10.6355 2.96012 10.5705 2.81512C10.4505 2.53012 10.1855 2.3501 9.88046 2.3501H3.73045V2.3551Z"
            className="fill-[#353535] dark:fill-white"
          />
          <path
            d="M10.39 11.375H8C7.795 11.375 7.625 11.205 7.625 11C7.625 10.795 7.795 10.625 8 10.625H10.39C10.595 10.625 10.785 10.54 10.925 10.39C11.065 10.24 11.135 10.04 11.12 9.83501L10.625 3.02501C10.61 2.82001 10.765 2.63998 10.97 2.62498C11.175 2.61498 11.355 2.76495 11.37 2.96995L11.865 9.78001C11.895 10.19 11.75 10.6 11.47 10.9C11.195 11.205 10.8 11.375 10.39 11.375Z"
            className="fill-[#353535] dark:fill-white"
          />
          <path
            d="M4.83988 3.56486C4.80988 3.56486 4.77989 3.55985 4.74989 3.55485C4.54989 3.50485 4.42489 3.30483 4.47489 3.09983L4.99488 0.939857C5.04488 0.739857 5.24488 0.614832 5.44988 0.664832C5.64988 0.714832 5.77489 0.91485 5.72489 1.11985L5.20489 3.27988C5.16489 3.44988 5.00988 3.56486 4.83988 3.56486Z"
            className="fill-[#353535] dark:fill-white"
          />
          <path
            d="M8.18973 3.56987C8.16473 3.56987 8.13472 3.56986 8.10972 3.55986C7.90972 3.51486 7.77973 3.31485 7.81973 3.11485L8.28972 0.944872C8.33472 0.739872 8.53472 0.614894 8.73472 0.654894C8.93472 0.694894 9.06472 0.89984 9.02472 1.09984L8.55472 3.26988C8.51972 3.44988 8.36473 3.56987 8.18973 3.56987Z"
            className="fill-[#353535] dark:fill-white"
          />
          <path
            d="M7.84961 6.375H3.84961C3.64461 6.375 3.47461 6.205 3.47461 6C3.47461 5.795 3.64461 5.625 3.84961 5.625H7.84961C8.05461 5.625 8.22461 5.795 8.22461 6C8.22461 6.205 8.05461 6.375 7.84961 6.375Z"
            className="fill-[#353535] dark:fill-white"
          />
          <path
            d="M7.34961 8.375H3.34961C3.14461 8.375 2.97461 8.205 2.97461 8C2.97461 7.795 3.14461 7.625 3.34961 7.625H7.34961C7.55461 7.625 7.72461 7.795 7.72461 8C7.72461 8.205 7.55461 8.375 7.34961 8.375Z"
            className="fill-[#353535] dark:fill-white"
          />
        </svg>
      ),
    },
    {
      id: 4,
      label: 'اعطای نمایندگی',
      route: '/represent',
      icon: (
        <svg
          width="16"
          height="16"
          viewBox="0 0 16 16"
          className="ml-1 md:hidden"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M9.81335 15.1666H6.22005C5.79338 15.1666 5.42004 15.14 5.08004 15.0933C4.8067 15.0533 4.61336 14.8 4.65336 14.5267C4.69336 14.2533 4.94005 14.0533 5.22005 14.1C5.51339 14.14 5.84005 14.16 6.21338 14.16H9.80672C12.5334 14.16 13.5 13.1933 13.5 10.4666V7.47327C13.5 7.19993 13.7267 6.97327 14 6.97327C14.2734 6.97327 14.5 7.19993 14.5 7.47327V10.4666C14.5067 13.7599 13.1 15.1666 9.81335 15.1666Z"
            className="fill-[#353535] dark:fill-white"
          />
          <path
            d="M2.02669 10.8467C1.75335 10.8467 1.52669 10.62 1.52669 10.3467V7.47998C1.52669 7.20665 1.75335 6.97998 2.02669 6.97998C2.30002 6.97998 2.52669 7.20665 2.52669 7.47998V10.3467C2.52669 10.62 2.30002 10.8467 2.02669 10.8467Z"
            className="fill-[#353535] dark:fill-white"
          />
          <path
            d="M8.01989 8.50004C7.28656 8.50004 6.61985 8.21339 6.14652 7.68673C5.67319 7.16006 5.45319 6.47336 5.52652 5.74003L5.97322 1.28674C5.99989 1.03341 6.21322 0.833374 6.47322 0.833374H9.58654C9.84654 0.833374 10.0599 1.02674 10.0865 1.28674L10.5332 5.74003C10.6065 6.47336 10.3865 7.16006 9.9132 7.68673C9.41987 8.21339 8.75323 8.50004 8.01989 8.50004ZM6.9132 1.83337L6.51322 5.84005C6.46655 6.28671 6.59988 6.70672 6.87988 7.01339C7.44654 7.64005 8.57985 7.64005 9.14652 7.01339C9.42652 6.70005 9.55989 6.28005 9.51322 5.84005L9.11319 1.83337H6.9132Z"
            className="fill-[#353535] dark:fill-white"
          />
          <path
            d="M12.22 8.50004C10.8667 8.50004 9.66002 7.40668 9.52002 6.06002L9.05334 1.38668C9.04001 1.24668 9.08668 1.10671 9.18001 1.00004C9.27334 0.893374 9.40668 0.833374 9.55334 0.833374H11.5867C13.5467 0.833374 14.46 1.65337 14.7333 3.66671L14.92 5.52006C15 6.30673 14.76 7.05341 14.2467 7.62008C13.7333 8.18674 13.0133 8.50004 12.22 8.50004ZM10.1066 1.83337L10.52 5.96C10.6067 6.79333 11.3867 7.50004 12.22 7.50004C12.7267 7.50004 13.18 7.30674 13.5067 6.95341C13.8267 6.60008 13.9733 6.12674 13.9267 5.62008L13.74 3.78674C13.5333 2.28008 13.0467 1.83337 11.5867 1.83337H10.1066Z"
            className="fill-[#353535] dark:fill-white"
          />
          <path
            d="M3.77986 8.50004C2.98652 8.50004 2.26654 8.18674 1.75321 7.62008C1.23987 7.05341 0.999866 6.30673 1.07987 5.52006L1.26655 3.68673C1.54655 1.65339 2.45987 0.833374 4.41987 0.833374H6.4532C6.5932 0.833374 6.72653 0.893374 6.82653 1.00004C6.91986 1.10671 6.96653 1.24668 6.9532 1.38668L6.48652 6.06002C6.33986 7.40668 5.12652 8.50004 3.77986 8.50004ZM4.4132 1.83337C2.9532 1.83337 2.46654 2.27334 2.25321 3.80001L2.07319 5.6134C2.01986 6.12007 2.1732 6.5934 2.4932 6.94674C2.8132 7.30007 3.27319 7.49337 3.77986 7.49337C4.61986 7.49337 5.39985 6.78674 5.47985 5.95341L5.89322 1.8267H4.4132V1.83337Z"
            className="fill-[#353535] dark:fill-white"
          />
          <path
            d="M3.33334 15.8334C2.40001 15.8334 1.52668 15.4267 0.926682 14.7133C0.920015 14.7067 0.893337 14.68 0.873337 14.6467C0.773337 14.5267 0.686667 14.4067 0.62 14.2801C0.326667 13.8067 0.166672 13.2467 0.166672 12.66C0.166672 11.6867 0.600025 10.7867 1.35336 10.1867C1.48669 10.0801 1.63334 9.98002 1.79334 9.89335C2.25334 9.63335 2.79334 9.48669 3.33334 9.48669C4.10667 9.48669 4.82002 9.75338 5.39336 10.2534C5.46669 10.3067 5.56666 10.4067 5.65333 10.5C6.19333 11.0934 6.49333 11.8534 6.49333 12.6467C6.49333 13.2267 6.33333 13.7934 6.03333 14.2801C5.88666 14.5334 5.70668 14.7534 5.50668 14.9267C5.46668 14.9667 5.42668 15.0067 5.38001 15.0401C4.85334 15.5534 4.11334 15.8334 3.33334 15.8334ZM1.65333 14.0267C1.67333 14.0467 1.70666 14.08 1.73332 14.1267C2.09999 14.56 2.70001 14.84 3.33334 14.84C3.86001 14.84 4.36668 14.6467 4.75334 14.3C4.77334 14.2733 4.80001 14.2467 4.83334 14.2267C4.96667 14.1134 5.08002 13.9667 5.18669 13.7933C5.39336 13.4533 5.50668 13.0734 5.50668 12.6734C5.50668 12.1334 5.30002 11.6067 4.92668 11.2001C4.88001 11.1467 4.83332 11.0933 4.77332 11.0533C4.05332 10.4333 3.06666 10.3401 2.27999 10.7867C2.17333 10.8467 2.08 10.9067 1.99333 10.98C1.47333 11.3934 1.17334 12.0067 1.17334 12.6734C1.17334 13.0667 1.27999 13.4534 1.48666 13.7867C1.53999 13.8801 1.59333 13.9534 1.65333 14.0201C1.64666 14.0201 1.65333 14.0201 1.65333 14.0267Z"
            className="fill-[#353535] dark:fill-white"
          />
          <path
            d="M4.33317 13.1533H2.33984C2.06651 13.1533 1.83984 12.9267 1.83984 12.6533C1.83984 12.38 2.06651 12.1533 2.33984 12.1533H4.33317C4.6065 12.1533 4.83317 12.38 4.83317 12.6533C4.83317 12.9267 4.6065 13.1533 4.33317 13.1533Z"
            className="fill-[#353535] dark:fill-white"
          />
          <path
            d="M3.33333 14.1734C3.05999 14.1734 2.83333 13.9467 2.83333 13.6734V11.6801C2.83333 11.4067 3.05999 11.1801 3.33333 11.1801C3.60666 11.1801 3.83333 11.4067 3.83333 11.6801V13.6734C3.83333 13.9534 3.60666 14.1734 3.33333 14.1734Z"
            className="fill-[#353535] dark:fill-white"
          />
        </svg>
      ),
    },
    {
      id: 5,
      label: 'درباره ما',
      route: '/about',
      icon: (
        <svg
          width="16"
          height="16"
          viewBox="0 0 12 12"
          className="ml-1 md:hidden"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M4.58027 5.81C4.56527 5.81 4.55527 5.81 4.54027 5.81C4.51527 5.805 4.48027 5.805 4.45027 5.81C3.00027 5.765 1.90527 4.625 1.90527 3.22C1.90527 1.79 3.07027 0.625 4.50027 0.625C5.93027 0.625 7.09527 1.79 7.09527 3.22C7.09027 4.625 5.99027 5.765 4.59527 5.81C4.59027 5.81 4.58527 5.81 4.58027 5.81ZM4.50027 1.375C3.48527 1.375 2.65527 2.205 2.65527 3.22C2.65527 4.22 3.43527 5.025 4.43027 5.06C4.46027 5.055 4.52527 5.055 4.59027 5.06C5.57027 5.015 6.34027 4.21 6.34527 3.22C6.34527 2.205 5.51527 1.375 4.50027 1.375Z"
            className="fill-[#353535] dark:fill-white"
          />
          <path
            d="M8.27018 5.875C8.25518 5.875 8.24018 5.875 8.22518 5.87C8.02018 5.89 7.81018 5.745 7.79018 5.54C7.77018 5.335 7.89518 5.15 8.10018 5.125C8.16018 5.12 8.22518 5.12 8.28018 5.12C9.01018 5.08 9.58018 4.48 9.58018 3.745C9.58018 2.985 8.96518 2.37 8.20518 2.37C8.00018 2.375 7.83018 2.205 7.83018 2C7.83018 1.795 8.00018 1.625 8.20518 1.625C9.37518 1.625 10.3302 2.58 10.3302 3.75C10.3302 4.9 9.43018 5.83 8.28518 5.875C8.28018 5.875 8.27518 5.875 8.27018 5.875Z"
            className="fill-[#353535] dark:fill-white"
          />
          <path
            d="M4.5848 11.275C3.6048 11.275 2.6198 11.025 1.8748 10.525C1.1798 10.065 0.799805 9.435 0.799805 8.75C0.799805 8.065 1.1798 7.43 1.8748 6.965C3.3748 5.97 5.8048 5.97 7.2948 6.965C7.9848 7.425 8.3698 8.055 8.3698 8.74C8.3698 9.425 7.9898 10.06 7.2948 10.525C6.5448 11.025 5.5648 11.275 4.5848 11.275ZM2.2898 7.595C1.8098 7.915 1.5498 8.325 1.5498 8.755C1.5498 9.18 1.8148 9.59 2.2898 9.905C3.5348 10.74 5.6348 10.74 6.8798 9.905C7.3598 9.585 7.6198 9.175 7.6198 8.745C7.6198 8.32 7.3548 7.91 6.8798 7.595C5.6348 6.765 3.5348 6.765 2.2898 7.595Z"
            className="fill-[#353535] dark:fill-white"
          />
          <path
            d="M9.17008 10.375C8.99508 10.375 8.84008 10.255 8.80508 10.075C8.76508 9.87001 8.89508 9.67501 9.09508 9.63001C9.41008 9.56501 9.70008 9.44001 9.92508 9.26501C10.2101 9.05001 10.3651 8.78001 10.3651 8.49501C10.3651 8.21001 10.2101 7.94001 9.93008 7.73001C9.71008 7.56001 9.43508 7.44001 9.11008 7.36501C8.91008 7.32001 8.78008 7.12001 8.82508 6.91501C8.87008 6.71501 9.07008 6.58501 9.27508 6.63001C9.70508 6.72501 10.0801 6.89501 10.3851 7.13001C10.8501 7.48001 11.1151 7.97501 11.1151 8.49501C11.1151 9.01501 10.8451 9.51001 10.3801 9.86501C10.0701 10.105 9.68008 10.28 9.25008 10.365C9.22008 10.375 9.19508 10.375 9.17008 10.375Z"
            className="fill-[#353535] dark:fill-white"
          />
        </svg>
      ),
    },
    {
      id: 6,
      label: 'تماس با ما',
      route: '/call',
      icon: (
        <svg
          width="16"
          height="16"
          viewBox="0 0 12 12"
          className="ml-1 md:hidden"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M8.725 11.375C8.16 11.375 7.565 11.24 6.95 10.98C6.35 10.725 5.745 10.375 5.155 9.95C4.57 9.52 4.005 9.04 3.47 8.515C2.94 7.98 2.46 7.415 2.035 6.835C1.605 6.235 1.26 5.635 1.015 5.055C0.755 4.435 0.625 3.835 0.625 3.27C0.625 2.88 0.695 2.51 0.83 2.165C0.97 1.81 1.195 1.48 1.5 1.195C1.885 0.815 2.325 0.625 2.795 0.625C2.99 0.625 3.19 0.67 3.36 0.75C3.555 0.84 3.72 0.975 3.84 1.155L5 2.79C5.105 2.935 5.185 3.075 5.24 3.215C5.305 3.365 5.34 3.515 5.34 3.66C5.34 3.85 5.285 4.035 5.18 4.21C5.105 4.345 4.99 4.49 4.845 4.635L4.505 4.99C4.51 5.005 4.515 5.015 4.52 5.025C4.58 5.13 4.7 5.31 4.93 5.58C5.175 5.86 5.405 6.115 5.635 6.35C5.93 6.64 6.175 6.87 6.405 7.06C6.69 7.3 6.875 7.42 6.985 7.475L6.975 7.5L7.34 7.14C7.495 6.985 7.645 6.87 7.79 6.795C8.065 6.625 8.415 6.595 8.765 6.74C8.895 6.795 9.035 6.87 9.185 6.975L10.845 8.155C11.03 8.28 11.165 8.44 11.245 8.63C11.32 8.82 11.355 8.995 11.355 9.17C11.355 9.41 11.3 9.65 11.195 9.875C11.09 10.1 10.96 10.295 10.795 10.475C10.51 10.79 10.2 11.015 9.84 11.16C9.495 11.3 9.12 11.375 8.725 11.375ZM2.795 1.375C2.52 1.375 2.265 1.495 2.02 1.735C1.79 1.95 1.63 2.185 1.53 2.44C1.425 2.7 1.375 2.975 1.375 3.27C1.375 3.735 1.485 4.24 1.705 4.76C1.93 5.29 2.245 5.84 2.645 6.39C3.045 6.94 3.5 7.475 4 7.98C4.5 8.475 5.04 8.935 5.595 9.34C6.135 9.735 6.69 10.055 7.24 10.285C8.095 10.65 8.895 10.735 9.555 10.46C9.81 10.355 10.035 10.195 10.24 9.965C10.355 9.84 10.445 9.705 10.52 9.545C10.58 9.42 10.61 9.29 10.61 9.16C10.61 9.08 10.595 9 10.555 8.91C10.54 8.88 10.51 8.825 10.415 8.76L8.755 7.58C8.655 7.51 8.565 7.46 8.48 7.425C8.37 7.38 8.325 7.335 8.155 7.44C8.055 7.49 7.965 7.565 7.865 7.665L7.485 8.04C7.29 8.23 6.99 8.275 6.76 8.19L6.625 8.13C6.42 8.02 6.18 7.85 5.915 7.625C5.675 7.42 5.415 7.18 5.1 6.87C4.855 6.62 4.61 6.355 4.355 6.06C4.12 5.785 3.95 5.55 3.845 5.355L3.785 5.205C3.755 5.09 3.745 5.025 3.745 4.955C3.745 4.775 3.81 4.615 3.935 4.49L4.31 4.1C4.41 4 4.485 3.905 4.535 3.82C4.575 3.755 4.59 3.7 4.59 3.65C4.59 3.61 4.575 3.55 4.55 3.49C4.515 3.41 4.46 3.32 4.39 3.225L3.23 1.585C3.18 1.515 3.12 1.465 3.045 1.43C2.965 1.395 2.88 1.375 2.795 1.375ZM6.975 7.505L6.895 7.845L7.03 7.495C7.005 7.49 6.985 7.495 6.975 7.505Z"
            className="fill-[#353535] dark:fill-white"
          />
          <path
            d="M9.25 4.875C9.045 4.875 8.875 4.705 8.875 4.5C8.875 4.32 8.695 3.945 8.395 3.625C8.1 3.31 7.775 3.125 7.5 3.125C7.295 3.125 7.125 2.955 7.125 2.75C7.125 2.545 7.295 2.375 7.5 2.375C7.985 2.375 8.495 2.635 8.94 3.11C9.355 3.555 9.625 4.1 9.625 4.5C9.625 4.705 9.455 4.875 9.25 4.875Z"
            className="fill-[#353535] dark:fill-white"
          />
          <path
            d="M11 4.875C10.795 4.875 10.625 4.705 10.625 4.5C10.625 2.775 9.225 1.375 7.5 1.375C7.295 1.375 7.125 1.205 7.125 1C7.125 0.795 7.295 0.625 7.5 0.625C9.635 0.625 11.375 2.365 11.375 4.5C11.375 4.705 11.205 4.875 11 4.875Z"
            className="fill-[#353535] dark:fill-white"
          />
        </svg>
      ),
    },
  ];
  const sessionCookie = Cookies.get('branchs');

  return (
    <div
      className={
        menuBar == false
          ? 'flex flex-row justify-between font-normal text-xs md:text-base w-full text-gray-7 dark:text-gray-4'
          : 'flex flex-col justify-start text-gray-7 dark:text-gray-4'
      }
    >
      <Image
        src={'/image/topFrameMenuMobile.jpg'}
        alt="header menu"
        fill
        className="w-full !h-[94px] md:hidden !relative mb-2 z-10"
        onClick={() => router.push('/')}
      />

      {menuBar == true ? (
        navStats.map((stats) =>
          stats.subMain ? (
            <Accordion
              type="single"
              collapsible
              dir="rtl"
              className="mx-4"
              key={stats.id}
            >
              <AccordionItem
                value="item-1"
                className="border-none hover:!no-underline"
              >
                <AccordionTrigger className={`pt-3 pb-2 hover:!no-underline border-b md:border-0 ${ stats.subMain?.find((sub) => sub.routeQuery == pathName ) || stats.route == pathName ? '!border-b border-primary caption-md sm:body-md text-primary' : 'caption-sm border-gray-4 sm:body-sm '}`}>
                  <div className="flex items-center">
                    {stats.icon}
                    <span >
                      {(stats.label == 'شعبه' && sessionCookie) ||
                        stats.subMain?.find((sub) => sub.routeQuery == pathName)
                          ?.label ||
                        stats.label}
                    </span>
                  </div>
                </AccordionTrigger>
                <AccordionContent
                  dir="rtl"
                  className="flex justify-start flex-col"
                >
                  {stats.subMain?.map((sub) => (
                    <Link
                      key={sub.id}
                      href={sub.routeQuery || sub.route}
                      className="w-fit mr-2 pt-2 caption-sm sm:body-sm"
                      onClick={() =>
                        stats.label == 'شعبه' &&
                        Cookies.set('branchs', `${sub.label}`, { path: '/' })
                      }
                    >
                      {sub.label}
                    </Link>
                  ))}
                </AccordionContent>
              </AccordionItem>
            </Accordion>
          ) : (
            <Link
              href={stats.route}
              key={stats.id}
              className={`md:border-0 mx-4 md:mx-0 flex h-[39px] justify-start items-center ${
                stats.id == 6 ? 'border-0' : 'border-b border-gray-4 '
              } ${
                stats.route == pathName
                  ? 'caption-md sm:body-lg activeLink lg:activeLink !border-b border-primary'
                  : 'caption-sm sm:body-sm lg:body-xl'
              }`}
            >
              {stats.icon}
              {stats.label}
            </Link>
          )
        )
      ) : (
        <NavigationMenu dir="rtl" className="max-w-full">
          <NavigationMenuList className="justify-around">
            {navStats.map((stats) =>
              stats.subMain ? (
                <NavigationMenuItem key={stats.id}>
                  <NavigationMenuTrigger
                    className={`rounded-none ${
                      stats.subMain?.find(
                        (sub) => sub.routeQuery == pathName
                      ) || stats.route == pathName
                        ? 'caption-md sm:body-lg activeLink lg:activeLink !border-b border-primary'
                        : 'caption-sm sm:body-sm lg:body-xl'
                    }`}
                  >
                    {(stats.label == 'شعبه' && sessionCookie) ||
                      stats.subMain?.find((sub) => sub.routeQuery == pathName)
                        ?.label ||
                      stats.label}
                  </NavigationMenuTrigger>

                  <NavigationMenuContent className="!w-52 flex flex-col py-2 bg-white dark:bg-background-2">
                    {stats.subMain?.map((sub) => (
                      <NavigationMenuLink
                        href={sub.routeQuery || sub.route}
                        key={sub.label}
                        className="py-1  px-5 hover:bg-slate-100 dark:hover:bg-background-1"
                        onClick={() =>
                          stats.label == 'شعبه' &&
                          Cookies.set('branchs', `${sub.label}`, { path: '/' })
                        }
                      >
                        {sub.label}
                      </NavigationMenuLink>
                    ))}
                  </NavigationMenuContent>
                </NavigationMenuItem>
              ) : (
                <NavigationMenuItem key={stats.id}>
                  <Link href={stats.route} legacyBehavior passHref>
                    <NavigationMenuLink
                      className={`${navigationMenuTriggerStyle()} md:border-0 mx-4 md:mx-0 ${
                        stats.id == 6 ? 'border-0' : 'border-b border-gray-4 '
                      } ${
                        stats.route == pathName
                          ? 'caption-md sm:body-lg activeLink lg:activeLink !border-b border-primary'
                          : 'caption-sm sm:body-sm lg:!body-xl'
                      }`}
                    >
                      {stats.label}
                    </NavigationMenuLink>
                  </Link>
                </NavigationMenuItem>
              )
            )}
          </NavigationMenuList>
        </NavigationMenu>
      )}
    </div>
  );
}

export default Nav;
